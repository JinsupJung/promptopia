(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{3544:function(e,t,s){Promise.resolve().then(s.bind(s,6883))},6883:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return p}});var r=s(9268),a=s(6006),o=s(6394),n=s.n(o),l=s(6008);let c=e=>{let{post:t,handleEdit:s,handleDelete:o,handleTagClick:c}=e;(0,l.usePathname)();let i=(0,l.useRouter)(),[u,p]=(0,a.useState)(""),m=()=>{if("cool4uh@gmail.com"===t.creator._id)return i.push("/profile");i.push("/profile/".concat(t.creator._id,"?name=").concat(t.creator.username))},d=()=>{p(t.prompt),navigator.clipboard.writeText(t.prompt),setTimeout(()=>p(!1),3e3)};return(0,r.jsxs)("div",{className:"prompt_card",children:[(0,r.jsxs)("div",{className:"flex justify-between items-start gap-5",children:[(0,r.jsxs)("div",{className:"flex-1 flex justify-start items-center gap-3 cursor-pointer",onClick:m,children:[(0,r.jsx)(n(),{src:"/assets/images/logo.svg",alt:"user_image",width:40,height:40,className:"rounded-full object-contain"}),(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsx)("h3",{className:"font-satoshi font-semibold text-gray-900",children:"Jinsup Jung"}),(0,r.jsx)("p",{className:"font-inter text-sm text-gray-500",children:"cool4uh@gmail.com"})]})]}),(0,r.jsx)("div",{className:"copy_btn",onClick:d,children:(0,r.jsx)(n(),{src:u===t.prompt?"/assets/icons/tick.svg":"/assets/icons/copy.svg",alt:u===t.prompt?"tick_icon":"copy_icon",width:12,height:12})})]}),(0,r.jsx)("p",{className:"my-4 font-satoshi text-sm text-gray-700",children:t.prompt}),(0,r.jsxs)("p",{className:"font-inter text-sm blue_gradient cursor-pointer",onClick:()=>c&&c(t.tag),children:["#",t.tag]}),(0,r.jsxs)("div",{className:"mt-5 flex-center gap-4 border-t border-gray-100 pt-3",children:[(0,r.jsx)("p",{className:"font-inter text-sm green_gradient cursor-pointer",onClick:s,children:"Edit"}),(0,r.jsx)("p",{className:"font-inter text-sm orange_gradient cursor-pointer",onClick:o,children:"Delete"})]})]})},i=e=>{let{data:t,handleTagClick:s}=e;return console.log("PromptCardList",t),(0,r.jsx)("div",{className:"mt-16 prompt_layout",children:t.map(e=>(0,r.jsx)(c,{post:e,handleTagClick:s},e._id))})},u=()=>{let[e,t]=(0,a.useState)([]),[s,o]=(0,a.useState)(""),[n,l]=(0,a.useState)(null),[c,u]=(0,a.useState)([]);console.log("Feed starting....");let p=async()=>{let e=await fetch("/api/prompt"),s=await e.json();console.log("fetch data = ",s);let r=[],a=Object.keys(s);for(let e in s[a]){let t={...s[a][e]};r.push(t)}console.log(r),t(r)};(0,a.useEffect)(()=>{p()},[]);let m=t=>{console.log("filterPrompts searchtext = ",t);let s=RegExp(t,"i");return e.filter(e=>s.test(e.creator.username)||s.test(e.tag)||s.test(e.prompt))},d=e=>{clearTimeout(n),o(e.target.value),l(setTimeout(()=>{let t=m(e.target.value);u(t)},500))},f=e=>{o(e);let t=m(e);u(t)};return(0,r.jsxs)("section",{className:"feed",children:[(0,r.jsx)("form",{className:"relative w-full flex-center",children:(0,r.jsx)("input",{type:"text",placeholder:"Search for a tag or a username",value:s,onChange:d,required:!0,className:"search_input peer"})}),s?(0,r.jsx)(i,{data:c,handleTagClick:f}):(0,r.jsx)(i,{data:e,handleTagClick:f})]})};var p=u},3177:function(e,t,s){"use strict";/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=s(6006),a=Symbol.for("react.element"),o=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,l=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function i(e,t,s){var r,o={},i=null,u=null;for(r in void 0!==s&&(i=""+s),void 0!==t.key&&(i=""+t.key),void 0!==t.ref&&(u=t.ref),t)n.call(t,r)&&!c.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:a,type:e,key:i,ref:u,props:o,_owner:l.current}}t.Fragment=o,t.jsx=i,t.jsxs=i},9268:function(e,t,s){"use strict";e.exports=s(3177)},6008:function(e,t,s){e.exports=s(167)}},function(e){e.O(0,[394,667,139,744],function(){return e(e.s=3544)}),_N_E=e.O()}]);